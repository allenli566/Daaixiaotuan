{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/demo2/pages/car/car.vue?c6c1","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/demo2/pages/car/car.vue?f889","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/demo2/pages/car/car.vue?f094","uni-app:///pages/car/car.vue","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/demo2/pages/car/car.vue?2aa5","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/demo2/pages/car/car.vue?f596","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/demo2/pages/car/car.vue?9c5f"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,sF;AACAA,UAAU,CAACC,YAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA4H;AAC5H;AACuD;AACL;AACsC;;;AAGxF;AAC0M;AAC1M,gBAAgB,8MAAU;AAC1B,EAAE,yEAAM;AACR,EAAE,0FAAM;AACR,EAAE,mGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,8FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAmyB,CAAgB,kxBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACkEvzB,mB;AACA;AACA,MADA,kBACA;AACA;AACA,qCADA;AAEA,sBAFA;AAGA,sBAHA;AAIA,yBAJA;AAKA,kBALA,EAKA;AACA;AACA,oBAPA;AAQA,oBARA;AASA,mBATA;;AAWA,GAbA;AAcA;AACA,mBAfA,+BAeA;AACA;AACA;AACA,KAFA,EAEA,IAFA;AAGA,GAnBA;AAoBA,QApBA,oBAoBA,EApBA;AAqBA,QArBA,oBAqBA;AACA,uBADA,CACA;AACA,uBAFA,CAEA;AACA,GAxBA;AAyBA;AACA;;;AAGA,eAJA,yBAIA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,4EADA,CACA;AACA;AACA;AACA;AACA;AACA,OARA;;AAUA;AACA;;AAEA,uBAtBA,CAsBA;AACA,KA3BA;AA4BA;;;AAGA,eA/BA,yBA+BA;AACA;AACA;;AAEA;AACA,oDADA;AAEA,qCAFA;AAGA;AACA,sBADA,EAHA;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA,wBADA;;AAGA,aAJA,MAIA;AACA;AACA,wBADA;;AAGA;AACA,WAXA,MAWA;AACA;AACA,sBADA;;AAGA;AACA,SAxBA;;AA0BA,KA7DA;AA8DA;AACA,aA/DA,qBA+DA,KA/DA,EA+DA;AACA;;;;;;AAMA;AACA,yBARA,CAQA;AACA;AACA;AACA;AACA;AACA,sCAFA,CAEA;AACA,wBAHA,CAGA;AACA,gBAJA,CAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KArFA;AAsFA;AACA,cAvFA,sBAuFA,KAvFA,EAuFA,KAvFA,EAuFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAjGA;AAkGA,aAlGA,qBAkGA,KAlGA,EAkGA,KAlGA,EAkGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA,EAEA,GAFA;AAGA;AACA;AACA,KAjIA;AAkIA,YAlIA,oBAkIA,KAlIA,EAkIA,MAlIA,EAkIA;AACA;AACA;AACA,KArIA;AAsIA;;AAEA;AACA,WAzIA,mBAyIA,CAzIA,EAyIA;AACA;AACA;AACA;AACA;AACA,KA9IA;AA+IA;AACA,kBAhJA,4BAgJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BADA;AAEA,sBAFA;;AAIA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAPA;;AASA;AACA,sBADA;AAEA,qBAFA;AAGA;AACA;AACA,yCADA;;AAGA,SAPA;;AASA,KAnLA;AAoLA;AACA,eArLA,uBAqLA,EArLA,EAqLA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KArMA;AAsMA;AACA,cAvMA,wBAuMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA/MA;AAgNA;AACA,YAjNA,oBAiNA,KAjNA,EAiNA;AACA;AACA;AACA;AACA;AACA;AACA,KAvNA;AAwNA;AACA,aAzNA,uBAyNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KArOA;AAsOA;AACA,OAvOA,eAuOA,KAvOA,EAuOA;AACA;AACA;AACA;AACA;AACA;AACA,KA7OA;AA8OA;AACA,OA/OA,eA+OA,KA/OA,EA+OA;AACA;AACA;AACA,KAlPA;AAmPA;AACA,OApPA,eAoPA,CApPA,EAoPA,KApPA,EAoPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAnQA;AAoQA,WApQA,qBAoQA;AACA;AACA,KAtQA,EAzBA,E;;;;;;;;;;;;;ACnEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA49C,CAAgB,w3CAAG,EAAC,C;;;;;;;;;;;ACAh/C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/car/car.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/car/car.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./car.vue?vue&type=template&id=8e51205e&scoped=true&\"\nvar renderjs\nimport script from \"./car.vue?vue&type=script&lang=js&\"\nexport * from \"./car.vue?vue&type=script&lang=js&\"\nimport style0 from \"./car.vue?vue&type=style&index=0&id=8e51205e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Desktop/下载/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8e51205e\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"Documents/HBuilderProjects/demo2/pages/car/car.vue\"\nexport default component.exports","export * from \"-!../../../../../Desktop/下载/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../Desktop/下载/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../Desktop/下载/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Desktop/下载/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../Desktop/下载/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Desktop/下载/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./car.vue?vue&type=template&id=8e51205e&scoped=true&\"","import mod from \"-!../../../../../Desktop/下载/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Desktop/下载/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Desktop/下载/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Desktop/下载/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Desktop/下载/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./car.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Desktop/下载/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Desktop/下载/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Desktop/下载/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Desktop/下载/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Desktop/下载/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./car.vue?vue&type=script&lang=js&\"","<template>\r\n  <view class=\"wrapper\">\r\n    <!-- 商品列表 -->\r\n    <view class=\"goods-list\">\r\n      <view class=\"tis\" v-if=\"cartData.length == 0\">\r\n        <image class=\"colorCart\" src=\"../../static/color_cart.png\" mode=\"aspectFill\"></image>\r\n        <view class=\"text\">购物车空空的，赶紧去逛逛吧</view>\r\n      </view>\r\n      <view class=\"row\" v-for=\"(row, index) in cartData\" :key=\"index\">\r\n        <!-- 删除按钮 -->\r\n        <view class=\"menu\" @tap.stop=\"deleteGoods(row.goods_id)\"><i class=\"iconfont icon\">&#xe6b4;</i></view>\r\n        <!-- 商品 -->\r\n        <!-- <view\r\n          class=\"carrier\"\r\n          :class=\"[theIndex == index ? 'open' : oldIndex == index ? 'close' : '']\"\r\n          @touchstart=\"touchStart(index, $event)\"\r\n          @touchmove=\"touchMove(index, $event)\"\r\n          @touchend=\"touchEnd(index, $event)\"\r\n        > -->\n\t\t\t\t<view\n\t\t\t\t  class=\"carrier\"\n\t\t\t\t  :class=\"[theIndex == index ? 'open' : oldIndex == index ? 'close' : '']\"\n\t\t\t\t>\r\n          <!-- checkbox -->\r\n          <!-- <view class=\"checkbox-box\" @tap=\"selected(index)\">\r\n            <view class=\"checkbox\"><view :class=\"[row.selected ? 'on' : '']\"></view></view>\r\n          </view> -->\r\n          <!-- 商品信息 -->\r\n          <view class=\"goods-info\" @tap=\"toGoods(row)\">\r\n            <view class=\"img\"><image mode=\"aspectFill\" :src=\"imgUrls + row.imgUrl\"></image></view>\r\n            <view class=\"info\">\r\n              <view class=\"title\">{{ row.goods_name }}</view>\r\n              <view class=\"spec\" v-for=\"(valueItem, valueIndex) in row.attrs\" :key=\"valueIndex\">{{ valueItem.attr_name }}：{{ valueItem.attr_value }}</view>\r\n              <view class=\"price-number\">\r\n                <view class=\"price\">￥{{ row.sale_price }}</view>\r\n                <view class=\"number\">\r\n                  <view class=\"sub\" @tap.stop=\"sub(index)\"><i class=\"iconfont icon\">&#xe768;</i></view>\r\n                  <view class=\"input\" @tap.stop=\"discard\"><input type=\"number\" v-model=\"row.num\" @input=\"sum($event, index)\" /></view>\r\n                  <view class=\"add\" @tap.stop=\"add(index)\"><i class=\"iconfont icon\">&#xe767;</i></view>\r\n                </view>\r\n              </view>\n\t\t\t\t\t\t\t<i class=\"iconfont deleteBtn\" @tap=\"deleteGoods(row.goods_id)\">&#xe6b4;</i>\r\n            </view>\r\n          </view>\r\n        </view>\r\n      </view>\r\n    </view>\r\n    <!-- 脚部菜单 -->\r\n    <view class=\"footer\" :style=\"{ bottom: footerbottom }\">\r\n      <view class=\"checkbox-box\" @tap=\"allSelect\">\r\n        <!-- <view class=\"checkbox\"><view :class=\"[isAllselected ? 'on' : '']\"></view></view>\r\n        <view class=\"text\">全选</view> -->\r\n      </view>\r\n      <!-- <view class=\"delBtn\" @tap=\"deleteList\" v-if=\"selectedList.length > 0\" hover-class=\"navigator-hover\">删除</view> -->\r\n      <view class=\"settlement\">\r\n        <view class=\"sum\">\r\n          合计:\r\n          <view class=\"money\">￥{{ sumPrice }}</view>\r\n        </view>\r\n        <view class=\"btn\" @tap=\"toConfirmation\" hover-class=\"navigator-hover\">结算({{ selectedList.length }})</view>\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nconst app = getApp();\r\nexport default {\r\n  data() {\r\n    return {\r\n      imgUrls: app.globalData.imgUrls,\r\n      sumPrice: '0.00',\r\n      selectedList: [],\r\n      isAllselected: true,\r\n      cartData: [], //购物车缓存数据\r\n      //控制滑动效果\r\n      theIndex: null,\r\n      oldIndex: null,\r\n      isStop: false\r\n    };\r\n  },\r\n  //下拉刷新，需要自己在page.json文件中配置开启页面下拉刷新 \"enablePullDownRefresh\": true\r\n  onPullDownRefresh() {\r\n    setTimeout(function() {\r\n      uni.stopPullDownRefresh();\r\n    }, 1000);\r\n  },\r\n  onLoad() {},\r\n  onShow() {\r\n    this.getMsgCount(); //获取未读消息\r\n    this.getCartData(); //获取购物车缓存数据\r\n  },\r\n  methods: {\r\n    /**\r\n     * 获取购物车列表\r\n     */\r\n    getCartData() {\r\n      let cartData = uni.getStorageSync('cart') || [];\r\n      console.log('%c 获取购物车缓存', 'color: green', cartData);\r\n\r\n      //处理过期商品\r\n      let time = new Date();\r\n      let timestamp = new Date().getTime();\r\n      let middleArray = [];\r\n\r\n      cartData.forEach((value, index) => {\r\n        let endTime = '1900-00-00 00:00:00';\r\n        if (value.sale_etime) {\r\n          endTime = new Date(value.sale_etime.replace(/-/g, '/')).getTime(); //兼容ios移动端时间戳\r\n          if (endTime > timestamp) {\r\n            middleArray.push(value);\r\n          }\r\n        }\r\n      });\r\n\r\n      this.cartData = middleArray;\r\n      uni.setStorageSync('cart', middleArray);\r\n\r\n      this.allSelect(); //全选事件\r\n    },\r\n    /**\r\n     * 获取未处理消息\r\n     */\r\n    getMsgCount() {\r\n      const that = this;\r\n      let token = uni.getStorageSync('token');\r\n\r\n      uni.request({\r\n        url: app.globalData.allUrls + 'api/msgCount',\r\n        header: app.globalData.header,\r\n        data: {\r\n          token: token\r\n        },\r\n        success: res => {\r\n          console.log('%c 未读消息', 'color: green', res);\r\n          if (res.data.code === 0) {\r\n            that.msgCount = res.data.data.count;\r\n            if (res.data.data.count != 0) {\r\n              uni.showTabBarRedDot({\r\n                index: 4\r\n              });\r\n            } else {\r\n              uni.hideTabBarRedDot({\r\n                index: 4\r\n              });\r\n            }\r\n          } else {\r\n            uni.hideTabBarRedDot({\r\n              index: 4\r\n            });\r\n          }\r\n        }\r\n      });\r\n    },\r\n    //加入商品 参数 goods:商品数据\r\n    joinGoods(goods) {\r\n      /*\r\n       * 这里只是展示一种添加逻辑，模板并没有做从其他页面加入商品到购物车的具体动作，\r\n       * 在实际应用上，前端并不会直接插入记录到goodsList这一个动作，一般是更新列表和本地列表缓存。\r\n       * 一般商城购物车的增删改动作是由后端来完成的,\r\n       * 后端记录后返回前端更新前端缓存\r\n       */\r\n      let len = this.goodsList.length;\r\n      let isFind = false; //是否找到ID一样的商品\r\n      for (let i = 0; i < len; i++) {\r\n        let row = this.goodsList[i];\r\n        if (row.id == goods.id) {\r\n          //找到商品一样的商品\r\n          this.goodsList[i].number++; //数量自增\r\n          isFind = true; //找到一样的商品\r\n          break; //跳出循环\r\n        }\r\n      }\r\n      if (!isFind) {\r\n        //没有找到一样的商品，新增一行到购物车商品列表头部\r\n        this.goodsList[i].unshift(goods);\r\n      }\r\n    },\r\n    //控制左滑删除效果-begin\r\n    touchStart(index, event) {\r\n      //多点触控不触发\r\n      if (event.touches.length > 1) {\r\n        this.isStop = true;\r\n        return;\r\n      }\r\n      this.oldIndex = this.theIndex;\r\n      this.theIndex = null;\r\n      //初始坐标\r\n      this.initXY = [event.touches[0].pageX, event.touches[0].pageY];\r\n    },\r\n    touchMove(index, event) {\r\n      //多点触控不触发\r\n      if (event.touches.length > 1) {\r\n        this.isStop = true;\r\n        return;\r\n      }\r\n      let moveX = event.touches[0].pageX - this.initXY[0];\r\n      let moveY = event.touches[0].pageY - this.initXY[1];\r\n\r\n      if (this.isStop || Math.abs(moveX) < 5) {\r\n        return;\r\n      }\r\n      if (Math.abs(moveY) > Math.abs(moveX)) {\r\n        // 竖向滑动-不触发左滑效果\r\n        this.isStop = true;\r\n        return;\r\n      }\r\n\r\n      if (moveX < 0) {\r\n        this.theIndex = index;\r\n        this.isStop = true;\r\n      } else if (moveX > 0) {\r\n        if (this.theIndex != null && this.oldIndex == this.theIndex) {\r\n          this.oldIndex = index;\r\n          this.theIndex = null;\r\n          this.isStop = true;\r\n          setTimeout(() => {\r\n            this.oldIndex = null;\r\n          }, 150);\r\n        }\r\n      }\r\n    },\r\n    touchEnd(index, $event) {\r\n      //结束禁止触发效果\r\n      this.isStop = false;\r\n    },\r\n    //控制左滑删除效果-end\r\n\r\n    //商品跳转\r\n    toGoods(e) {\r\n      // uni.showToast({ title: '商品' + e.id, icon: 'none' });\r\n      // uni.navigateTo({\r\n      //   url: 'goodsDetail'\r\n      // });\r\n    },\r\n    //跳转确认订单页面\r\n    toConfirmation() {\r\n      let tmpList = [];\r\n      let len = this.cartData.length;\r\n      for (let i = 0; i < len; i++) {\r\n        if (this.cartData[i].selected) {\r\n          tmpList.push(this.cartData[i]);\r\n        }\r\n      }\r\n      if (tmpList.length < 1) {\r\n        uni.showToast({\r\n          title: '请选择商品结算',\r\n          icon: 'none'\r\n        });\r\n        return;\r\n      }\r\n\r\n      //删除对象里多余的属性\r\n      tmpList.map(value => {\r\n        delete value.goods_name;\r\n        delete value.imgUrl;\r\n        delete value.price;\r\n        delete value.sale_price;\r\n        delete value.selected;\r\n        delete value.sale_etime;\r\n      });\r\n\r\n      uni.setStorage({\r\n        key: 'buylist',\r\n        data: tmpList,\r\n        success: () => {\r\n          uni.navigateTo({\r\n            url: '../public/comfirmation'\r\n          });\r\n        }\r\n      });\r\n    },\r\n    //删除商品\r\n    deleteGoods(id) {\r\n      let len = this.cartData.length;\r\n\r\n      for (let i = 0; i < len; i++) {\r\n        if (id == this.cartData[i].goods_id) {\r\n          this.cartData.splice(i, 1);\r\n          break;\r\n        }\r\n      }\r\n      this.selectedList.splice(this.selectedList.indexOf(id), 1);\r\n      this.sum();\r\n      this.oldIndex = null;\r\n      this.theIndex = null;\r\n      if (this.cartData.length == 0) {\r\n        this.isAllselected = false;\r\n      }\r\n    },\r\n    // 删除商品s\r\n    deleteList() {\r\n      let len = this.selectedList.length;\r\n      while (this.selectedList.length > 0) {\r\n        this.deleteGoods(this.selectedList[0]);\r\n      }\r\n      this.selectedList = [];\r\n      this.isAllselected = this.selectedList.length == this.cartData.length && this.cartData.length > 0;\r\n      this.sum();\r\n    },\r\n    // 选中商品\r\n    selected(index) {\r\n      this.cartData[index].selected = this.cartData[index].selected ? false : true;\r\n      let i = this.selectedList.indexOf(this.cartData[index].goods_id);\r\n      i > -1 ? this.selectedList.splice(i, 1) : this.selectedList.push(this.cartData[index].goods_id);\r\n      this.isAllselected = this.selectedList.length == this.cartData.length;\r\n      this.sum();\r\n    },\r\n    //全选\r\n    allSelect() {\r\n      let len = this.cartData.length;\r\n      let arr = [];\r\n      for (let i = 0; i < len; i++) {\r\n        // this.cartData[i].selected = this.isAllselected ? false : true;\r\n        this.cartData[i].selected = true;\r\n        arr.push(this.cartData[i].goods_id);\r\n      }\r\n      // this.selectedList = this.isAllselected ? [] : arr;\r\n      this.selectedList = arr;\r\n      this.isAllselected = this.isAllselected || this.cartData.length == 0 ? false : true;\r\n      this.sum();\r\n    },\r\n    // 减少数量\r\n    sub(index) {\r\n      if (this.cartData[index].num <= 1) {\r\n        return;\r\n      }\r\n      this.cartData[index].num--;\r\n      this.sum();\r\n    },\r\n    // 增加数量\r\n    add(index) {\r\n      this.cartData[index].num++;\r\n      this.sum();\r\n    },\r\n    // 合计\r\n    sum(e, index) {\r\n      this.sumPrice = 0;\r\n      let len = this.cartData.length;\r\n      for (let i = 0; i < len; i++) {\r\n        if (this.cartData[i].selected) {\r\n          if (e && i == index) {\r\n            this.sumPrice = this.sumPrice + e.detail.value * this.cartData[i].sale_price;\r\n          } else {\r\n            this.sumPrice = this.sumPrice + this.cartData[i].num * this.cartData[i].sale_price;\r\n          }\r\n        }\r\n      }\r\n      this.sumPrice = this.sumPrice.toFixed(2);\r\n\r\n      uni.setStorageSync('cart', this.cartData);\r\n    },\r\n    discard() {\r\n      //丢弃\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n$themeColor: #cc33cc;\r\n.checkbox-box {\r\n  display: flex;\r\n  align-items: center;\r\n  .checkbox {\r\n    width: 35upx;\r\n    height: 35upx;\r\n    border-radius: 100%;\r\n    border: solid 2upx $themeColor;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    .on {\r\n      width: 25upx;\r\n      height: 25upx;\r\n      border-radius: 100%;\r\n      background-color: $themeColor;\r\n    }\r\n  }\r\n  .text {\r\n    font-size: 28upx;\r\n    margin-left: 10upx;\r\n  }\r\n}\r\n.status {\r\n  width: 100%;\r\n  height: 0;\r\n  position: fixed;\r\n  z-index: 10;\r\n  background-color: #fff;\r\n  top: 0;\r\n  /*  #ifdef  APP-PLUS  */\r\n  height: var(--status-bar-height); //覆盖样式\r\n  /*  #endif  */\r\n}\r\n\r\n.header {\r\n  width: 92%;\r\n  padding: 0 4%;\r\n  height: 100upx;\r\n  display: flex;\r\n  align-items: center;\r\n  position: fixed;\r\n  top: 0;\r\n  z-index: 10;\r\n  background-color: #fff;\r\n  /*  #ifdef  APP-PLUS  */\r\n  top: var(--status-bar-height);\r\n  /*  #endif  */\r\n  .title {\r\n    font-size: 36upx;\r\n  }\r\n}\r\n.place {\r\n  background-color: #ffffff;\r\n  height: 100upx;\r\n  /*  #ifdef  APP-PLUS  */\r\n  margin-top: var(--status-bar-height);\r\n  /*  #endif  */\r\n}\r\n.goods-list {\r\n  width: 100%;\r\n  padding: 20upx 0 120upx 0;\r\n  .tis {\r\n    box-sizing: border-box;\r\n    width: 100%;\r\n    padding-top: 200upx;\r\n    text-align: center;\r\n    .colorCart {\r\n      margin: 30upx auto;\r\n      width: 200upx;\r\n      height: 200upx;\r\n    }\r\n    .text {\r\n      color: #666;\r\n    }\r\n  }\r\n  .row {\r\n    width: calc(92%);\r\n    height: calc(22vw + 40upx);\r\n    margin: 20upx auto;\r\n\r\n    border-radius: 15upx;\r\n    box-shadow: 0upx 5upx 20upx rgba(0, 0, 0, 0.1);\r\n    display: flex;\r\n    align-items: center;\r\n    position: relative;\r\n    overflow: hidden;\r\n    z-index: 4;\r\n    border: 0;\r\n    .menu {\r\n      .icon {\r\n        color: #fff;\r\n        font-size: 50upx;\r\n      }\r\n      position: absolute;\r\n      width: 30%;\r\n      height: 100%;\r\n      right: 0;\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      background-color: red;\r\n      color: #fff;\r\n      z-index: 2;\r\n    }\r\n    .carrier {\r\n      @keyframes showMenu {\r\n        0% {\r\n          transform: translateX(0);\r\n        }\r\n        100% {\r\n          transform: translateX(-30%);\r\n        }\r\n      }\r\n      @keyframes closeMenu {\r\n        0% {\r\n          transform: translateX(-30%);\r\n        }\r\n        100% {\r\n          transform: translateX(0);\r\n        }\r\n      }\r\n      &.open {\r\n        animation: showMenu 0.25s linear both;\r\n      }\r\n      &.close {\r\n        animation: closeMenu 0.15s linear both;\r\n      }\r\n      background-color: #fff;\r\n      .checkbox-box {\r\n        padding-left: 20upx;\r\n        flex-shrink: 0;\r\n        height: 22vw;\r\n        margin-right: 20upx;\r\n      }\r\n      position: absolute;\r\n      width: 100%;\r\n      padding: 0 0;\r\n      height: 100%;\r\n      z-index: 3;\r\n      display: flex;\r\n      align-items: center;\r\n\r\n      .goods-info {\r\n        width: 100%;\r\n        display: flex;\r\n        padding-right: 20upx;\r\n        .img {\r\n          margin-left: 20upx;\r\n          width: 22vw;\r\n          height: 22vw;\r\n          border-radius: 10upx;\r\n          overflow: hidden;\r\n          flex-shrink: 0;\r\n          margin-right: 10upx;\r\n          image {\r\n            width: 22vw;\r\n            height: 22vw;\r\n            background-color: #f1f1f1;\r\n          }\r\n        }\r\n        .info {\r\n          width: 100%;\r\n          height: 22vw;\r\n          overflow: hidden;\r\n          display: flex;\r\n          flex-wrap: wrap;\r\n          position: relative;\r\n          .title {\r\n            width: 90%;\r\n            font-size: 28upx;\r\n            display: -webkit-box;\r\n            -webkit-box-orient: vertical;\r\n            -webkit-line-clamp: 2;\r\n            // text-align: justify;\r\n            overflow: hidden;\r\n          }\r\n          .spec {\r\n            font-size: 24upx;\r\n            background-color: #f3f3f3;\r\n            color: #666;\r\n            display: flex;\r\n            align-items: center;\r\n            padding: 5upx 10upx;\r\n            border-radius: 15upx;\r\n            margin-bottom: 20vw;\r\n            margin-right: 20upx;\r\n          }\r\n          .price-number {\r\n            position: absolute;\r\n            width: 100%;\r\n            bottom: 0upx;\r\n            display: flex;\r\n            justify-content: space-between;\r\n            align-items: flex-end;\r\n            font-size: 28upx;\r\n            height: 60upx;\r\n            .price {\r\n            }\r\n            .number {\r\n              display: flex;\r\n              justify-content: center;\r\n              align-items: flex-end;\r\n              .input {\r\n                width: 60upx;\r\n                height: 60upx;\r\n                margin: 0 10upx;\r\n                background-color: #f3f3f3;\r\n                input {\r\n                  width: 60upx;\r\n                  height: 60upx;\r\n                  display: flex;\r\n                  justify-content: center;\r\n                  align-items: center;\r\n                  text-align: center;\r\n                  font-size: 26upx;\r\n                }\r\n              }\r\n              .sub,\r\n              .add {\r\n                width: 45upx;\r\n                height: 45upx;\r\n                background-color: #f3f3f3;\r\n                border-radius: 5upx;\r\n                .icon {\r\n                  font-size: 22upx;\r\n                  width: 45upx;\r\n                  height: 45upx;\r\n                  display: flex;\r\n                  justify-content: center;\r\n                  align-items: center;\r\n                }\r\n              }\r\n            }\r\n          }\n\t\t\t\t\t.deleteBtn {\n\t\t\t\t\t\tcolor: #999999;\n\t\t\t\t\t\tfont-size: 38upx;\n\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\ttop: 0;\n\t\t\t\t\t\tright: 0;\n\t\t\t\t\t}\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n.footer {\r\n  width: 92%;\r\n  padding: 0 4%;\r\n  background-color: #fbfbfb;\r\n  height: 100upx;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  font-size: 28upx;\r\n  position: fixed;\r\n  bottom: 0upx;\r\n  z-index: 5;\r\n  border-top: 1upx solid #eee;\r\n  .delBtn {\r\n    border: solid 1upx $themeColor;\r\n    color: $themeColor;\r\n    padding: 0 30upx;\r\n    height: 50upx;\r\n    border-radius: 30upx;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n  .settlement {\r\n    width: 65%;\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    align-items: center;\r\n    .sum {\r\n      width: 50%;\r\n      font-size: 28upx;\r\n      margin-right: 10upx;\r\n      display: flex;\r\n      justify-content: flex-end;\r\n      .money {\r\n        font-weight: 600;\r\n      }\r\n    }\r\n    .btn {\r\n      padding: 0 30upx;\r\n      height: 60upx;\r\n      // background-color: $themeColor;\r\n      background: linear-gradient(to right, #ec625c, $themeColor);\r\n      color: #fff;\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      border-radius: 30upx;\r\n    }\r\n  }\r\n}\r\n</style>\n","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../Desktop/下载/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../Desktop/下载/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../Desktop/下载/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Desktop/下载/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../Desktop/下载/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../Desktop/下载/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../Desktop/下载/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../Desktop/下载/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Desktop/下载/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./car.vue?vue&type=style&index=0&id=8e51205e&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../Desktop/下载/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../Desktop/下载/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../Desktop/下载/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Desktop/下载/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../Desktop/下载/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../Desktop/下载/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../Desktop/下载/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../Desktop/下载/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Desktop/下载/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./car.vue?vue&type=style&index=0&id=8e51205e&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1598450245203\n      var cssReload = require(\"C:/Users/Administrator/Desktop/下载/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}